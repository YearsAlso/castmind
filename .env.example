# 🐳 CastMind 环境变量模板
# 复制此文件为 .env 并修改配置

# ============================================
# 应用配置
# ============================================

# 应用环境
APP_ENV=production  # production | development | testing
LOG_LEVEL=INFO      # DEBUG | INFO | WARNING | ERROR | CRITICAL
TZ=Asia/Shanghai    # 时区设置

# 服务端口
HOST_PORT=8000      # 主机映射端口

# ============================================
# 数据库配置
# ============================================

# SQLite（默认，简单部署）
DATABASE_URL=sqlite:///data/castmind.db

# PostgreSQL（生产环境推荐）
# POSTGRES_USER=castmind
# POSTGRES_PASSWORD=castmind123
# POSTGRES_DB=castmind
# DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# ============================================
# Redis 配置
# ============================================

REDIS_PASSWORD=castmind123

# ============================================
# AI 服务配置
# ============================================

# DeepSeek API（推荐）
OPENAI_API_KEY=your_deepseek_api_key_here
OPENAI_BASE_URL=https://api.deepseek.com
DEFAULT_AI_MODEL=deepseek-chat

# OpenAI（备用）
# OPENAI_API_KEY=your_openai_api_key_here
# OPENAI_BASE_URL=https://api.openai.com/v1
# DEFAULT_AI_MODEL=gpt-3.5-turbo

# ============================================
# Obsidian 集成配置
# ============================================

# Obsidian 仓库路径（如果启用集成）
OBSIDIAN_VAULT=/path/to/your/obsidian/vault
OBSIDIAN_PODCASTS_DIR=${OBSIDIAN_VAULT}/Podcasts/CastMind

# ============================================
# 任务处理配置
# ============================================

# 批量处理大小
PROCESS_BATCH_SIZE=5

# 重试配置
MAX_RETRIES=3
RETRY_DELAY=60  # 秒

# ============================================
# 监控配置
# ============================================

# Grafana 密码
GRAFANA_PASSWORD=admin

# ============================================
# 安全配置
# ============================================

# JWT 密钥（用于 API 认证）
JWT_SECRET_KEY=your_jwt_secret_key_here

# API 访问令牌
API_ACCESS_TOKEN=your_api_access_token_here

# ============================================
# 存储配置
# ============================================

# 数据目录
DATA_DIR=/app/data

# 日志目录
LOGS_DIR=/app/logs

# 配置目录
CONFIG_DIR=/app/config

# ============================================
# 网络配置
# ============================================

# 代理设置（如果需要）
# HTTP_PROXY=http://proxy.example.com:8080
# HTTPS_PROXY=http://proxy.example.com:8080
# NO_PROXY=localhost,127.0.0.1

# ============================================
# 调试配置
# ============================================

# 调试模式
DEBUG=false

# 详细日志
VERBOSE=false

# ============================================
# 高级配置
# ============================================

# 内存限制（单位：MB）
MEMORY_LIMIT=1024

# CPU 限制（单位：核心数）
CPU_LIMIT=2

# 并发任务数
CONCURRENCY_LIMIT=10

# ============================================
# 备份配置
# ============================================

# 备份目录
BACKUP_DIR=/app/backups

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# 自动备份时间（cron 表达式）
BACKUP_SCHEDULE="0 2 * * *"  # 每天凌晨2点

# ============================================
# 邮件通知配置
# ============================================

# SMTP 服务器
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your_email@example.com
# SMTP_PASSWORD=your_email_password
# SMTP_FROM=CastMind <noreply@example.com>

# 通知邮箱
# NOTIFICATION_EMAIL=your_email@example.com

# ============================================
# 版本信息
# ============================================

# 应用版本
APP_VERSION=1.0.0

# 构建版本
BUILD_VERSION=${APP_VERSION}-${BUILD_TIMESTAMP}

# ============================================
# 注释说明
# ============================================

# 1. 复制此文件为 .env
#    cp .env.template .env
#
# 2. 修改必要的配置
#    vi .env
#
# 3. 启动服务
#    docker-compose up -d
#
# 4. 查看日志
#    docker-compose logs -f castmind
#
# 5. 访问服务
#    http://localhost:8000/docs